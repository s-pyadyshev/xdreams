html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title 4-Slide Grid Swiper
    style.
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .container {
        max-width: 1400px;
        width: 100%;
        padding: 20px;
      }

      h1 {
        text-align: center;
        color: white;
        margin-bottom: 40px;
        font-size: 30px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .swiper-container {
        position: relative;
        overflow: hidden;
        padding: 30px 0;
      }

      .swiper-wrapper {
        display: grid;
        grid-template-rows: 0fr 0fr 0fr 0fr;
        gap: 16px;
        transition: grid-template-columns 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94), grid-template-rows 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      .swiper-slide {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 20px;
        padding: 25px;
        display: flex;
        flex-direction: column;
        align-items: center;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18);
        cursor: pointer;
        min-height: 160px;
        overflow: hidden;
      }

      .slide-content {
        text-align: center;
        max-width: 85%;
      }

      .slide-number {
        font-size: 35px;
        font-weight: 800;
        background: linear-gradient(90deg, #4b6cb7, #182848);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 15px;
      }

      .slide-title {
        font-size: 24px;
        margin-bottom: 15px;
        color: #1a2a4c;
      }

      .slide-text {
        color: #4a5a7c;
        line-height: 1.6;
        font-size: 16px;
        display: none;
      }

      .swiper-slide.active .slide-text {
        display: block;
      }

      .swiper-button {
        position: static;
        width: 60px;
        height: 60px;
        background: rgba(255, 255, 255, 0.92);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 10;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        transition: all 0.3s ease;
        font-size: 28px;
        color: #182848;
        border: 2px solid rgba(255, 255, 255, 0.5);
        margin: 10px auto;
      }

      @media (min-width: 1200px) {
        h1 {
          font-size: 40px;
        }
        
        .swiper-wrapper {
          grid-template-columns: 1fr 1fr 1fr 1fr;
          grid-template-rows: auto;
          gap: 24px;
        }
        
        .swiper-slide {
          min-height: 360px;
          padding: 35px;
        }
        
        .slide-number {
          font-size: 51px;
          margin-bottom: 20px;
        }
        
        .slide-title {
          font-size: 32px;
          margin-bottom: 18px;
        }
        
        .slide-text {
          font-size: 18px;
        }
        
        .swiper-button {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          width: 65px;
          height: 65px;
          font-size: 32px;
          margin: 0;
        }
        
        .swiper-button-prev {
          left: -35px;
        }
        
        .swiper-button-next {
          right: -35px;
        }
      }
  body
    .container
      h1 4-Slide Grid Swiper
      
      .swiper-container
        .swiper-wrapper
          .swiper-slide.active
            .slide-content
              .slide-number 01
              h2.slide-title Active Slide
              p.slide-text This slide occupies full width on mobile. Click any slide to activate. This slide occupies full width on mobile. Click any slide to activate. This slide occupies full width on mobile. Click any slide to activate. This slide occupies full width on mobile. Click any slide to activate. This slide occupies full width on mobile. Click any slide to activate.
          
          .swiper-slide
            .slide-content
              .slide-number 02
              h2.slide-title Regular Slide
              p.slide-text On mobile, slides stack vertically. On desktop, they display in a row.On mobile, slides stack vertically. On desktop, they display in a row.On mobile, slides stack vertically. On desktop, they display in a row.On mobile, slides stack vertically. On desktop, they display in a row.On mobile, slides stack vertically. On desktop, they display in a row.
          
          .swiper-slide
            .slide-content
              .slide-number 03
              h2.slide-title Interactive Design
              p.slide-text The active slide expands to full width with smooth transitions.The active slide expands to full width with smooth transitions.The active slide expands to full width with smooth transitions.The active slide expands to full width with smooth transitions.The active slide expands to full width with smooth transitions.
          
          .swiper-slide
            .slide-content
              .slide-number 04
              h2.slide-title Modern Layout
              p.slide-text Built with CSS Grid and vanilla JavaScript for optimal performance.Built with CSS Grid and vanilla JavaScript for optimal performance.Built with CSS Grid and vanilla JavaScript for optimal performance.Built with CSS Grid and vanilla JavaScript for optimal performance.Built with CSS Grid and vanilla JavaScript for optimal performance.Built with CSS Grid and vanilla JavaScript for optimal performance.
        
      button.swiper-button.swiper-button-prev ‹
      button.swiper-button.swiper-button-next ›

    script.
      document.addEventListener('DOMContentLoaded', () => {
        const wrapper = document.querySelector('.swiper-wrapper');
        const slides = document.querySelectorAll('.swiper-slide');
        const prevButton = document.querySelector('.swiper-button-prev');
        const nextButton = document.querySelector('.swiper-button-next');
        
        let currentIndex = 0;
        let isAnimating = false;
        
        slides[currentIndex].classList.add('active');
        slides[currentIndex].querySelector('.slide-text').style.display = 'block';
        
        function updateGridTemplate(activeIndex) {
          if (window.innerWidth >= 1200) {
            const columns = ['1fr', '1fr', '1fr', '1fr'];
            columns[activeIndex] = '4fr';
            wrapper.style.gridTemplateColumns = columns.join(' ');
            wrapper.style.gridTemplateRows = 'auto';
          } else {
            const rows = ['0fr', '0fr', '0fr', '0fr'];
            rows[activeIndex] = '1fr';
            wrapper.style.gridTemplateColumns = '1fr';
            wrapper.style.gridTemplateRows = rows.join(' ');
          }
        }
        
        updateGridTemplate(currentIndex);
        
        slides.forEach((slide, index) => {
          slide.addEventListener('click', () => {
            if (isAnimating || index === currentIndex) return;
            
            isAnimating = true;
            
            slides[currentIndex].querySelector('.slide-text').style.display = 'none';
            
            slides[currentIndex].classList.remove('active');
            slide.classList.add('active');
            currentIndex = index;
            
            updateGridTemplate(currentIndex);
            
            setTimeout(() => {
              slide.querySelector('.slide-text').style.display = 'block';
              isAnimating = false;
            }, 600);
          });
        });
        
        function navigateSlider(direction) {
          if (isAnimating) return;
          
          isAnimating = true;
          
          slides[currentIndex].querySelector('.slide-text').style.display = 'none';
          
          slides[currentIndex].classList.remove('active');
          currentIndex = (currentIndex + direction + 4) % 4;
          slides[currentIndex].classList.add('active');
          
          updateGridTemplate(currentIndex);
          
          setTimeout(() => {
            slides[currentIndex].querySelector('.slide-text').style.display = 'block';
            isAnimating = false;
          }, 600);
        }
        
        prevButton.addEventListener('click', () => navigateSlider(-1));
        nextButton.addEventListener('click', () => navigateSlider(1));
        
        window.addEventListener('resize', () => {
          updateGridTemplate(currentIndex);
        });
      });